<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Todo List</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/themes.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>Todo List</h1>
            <div class="theme-toggle">
                <button id="themeToggle" aria-label="Toggle theme">
                    <span class="theme-icon"></span>
                </button>
            </div>
        </header>

        <main class="app-main">
            <section class="todo-form-section" aria-labelledby="formTitle">
                <h2 id="formTitle" class="visually-hidden">Add New Task</h2>
                <form id="todoForm" class="todo-form">
                    <div class="form-group">
                        <label for="taskInput" class="visually-hidden">Task description</label>
                        <input type="text" id="taskInput" class="task-input" 
                               placeholder="What needs to be done?" required
                               aria-required="true">
                        <select id="taskPriority" class="priority-select" aria-label="Task priority">
                            <option value="low">Low Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                        <button type="submit" class="add-button">Add Task</button>
                    </div>
                </form>
            </section>

            <section class="todo-list-section" aria-labelledby="listTitle">
                <h2 id="listTitle" class="visually-hidden">Todo List</h2>
                
                <div class="todo-controls">
                    <div class="filters" role="group" aria-label="Filter tasks">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="active">Active</button>
                        <button class="filter-btn" data-filter="completed">Completed</button>
                    </div>
                    
                    <div class="sort" role="group" aria-label="Sort tasks">
                        <select id="sortSelect" class="sort-select">
                            <option value="date">Date Added</option>
                            <option value="priority">Priority</option>
                            <option value="alphabetical">Alphabetical</option>
                        </select>
                    </div>
                </div>

                <div class="todo-list" id="todoList" role="list">
                    <!-- Tasks will be inserted here -->
                </div>

                <div class="todo-summary">
                    <span id="taskCount">0 items left</span>
                    <button id="clearCompleted" class="clear-completed">Clear completed</button>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <div class="undo-redo">
                <button id="undoBtn" class="undo-btn" aria-label="Undo" disabled>
                    <span class="undo-icon"></span>
                </button>
                <button id="redoBtn" class="redo-btn" aria-label="Redo" disabled>
                    <span class="redo-icon"></span>
                </button>
            </div>
            <div class="keyboard-shortcuts">
                <button id="showShortcuts" class="shortcuts-btn">
                    Keyboard Shortcuts
                </button>
            </div>
        </footer>
    </div>

    <!-- Keyboard Shortcuts Dialog -->
    <dialog id="shortcutsDialog" class="shortcuts-dialog">
        <h2>Keyboard Shortcuts</h2>
        <dl class="shortcuts-list">
            <dt>Add new task</dt>
            <dd><kbd>Ctrl</kbd> + <kbd>Enter</kbd></dd>
            
            <dt>Complete task</dt>
            <dd><kbd>Space</kbd></dd>
            
            <dt>Edit task</dt>
            <dd><kbd>Enter</kbd></dd>
            
            <dt>Delete task</dt>
            <dd><kbd>Delete</kbd></dd>
            
            <dt>Undo</dt>
            <dd><kbd>Ctrl</kbd> + <kbd>Z</kbd></dd>
            
            <dt>Redo</dt>
            <dd><kbd>Ctrl</kbd> + <kbd>Y</kbd></dd>
        </dl>
        <button class="close-dialog">Close</button>
    </dialog>

    <!-- Task Template -->
    <template id="todoItemTemplate">
        <div class="todo-item" role="listitem">
            <div class="todo-item-content">
                <input type="checkbox" class="todo-checkbox">
                <label class="todo-label"></label>
                <input type="text" class="todo-edit" hidden>
            </div>
            <div class="todo-item-actions">
                <button class="edit-btn" aria-label="Edit task">
                    <span class="edit-icon"></span>
                </button>
                <button class="delete-btn" aria-label="Delete task">
                    <span class="delete-icon"></span>
                </button>
            </div>
        </div>
    </template>

    <!-- Scripts -->
    <script src="js/utils/storage.js" type="module"></script>
    <script src="js/utils/validation.js" type="module"></script>
    <script src="js/utils/events.js" type="module"></script>
    <script src="js/components/TodoList.js" type="module"></script>
    <script src="js/components/TodoItem.js" type="module"></script>
    <script src="js/components/TodoForm.js" type="module"></script>
    <script src="js/components/TodoFilter.js" type="module"></script>
    <script src="js/app.js" type="module"></script>
</body>
</html> 